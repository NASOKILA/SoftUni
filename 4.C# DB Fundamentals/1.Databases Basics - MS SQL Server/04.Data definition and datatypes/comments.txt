
SHTE GOVORIM ZA:
1.Typove danni v SQL 
2.Strukturirane na baza, Rezdelqne na bazi, relacii mejdu bazi etc.
3.SQL zaqvki
4.Triene na danni i strukturi




TIPOVE OT DANNI:

NOMERA:
bit(1-bit)
integer(32-bit)
bigint(64-bit)

NOMERA S PLAVASHTA ZAPETAQ:
float, real, nuberic(tova e kato decimal)
money // MONEY e za precizni operacii


STRINGS:
char(size) //tova e kato string sus specificirana duljina primerno char(10)
e string ot 10 sinvola

varchar(size) // Tova e kato ne znaem kolko e dulug stringa, polzva se za zapisvane na mnogo neshta kato imena, imeili i dr. VARCHAR PODDURJA SAMO ASCHII SINVOLI,  MOJEM DA PISHEM MAKSIMALNA DULJINA V SKOBITE

nvarchar(size) //TOVA E KATO VARCHAR SAMOCHE SUDURJA I UNICODE T.E. MNOGO DRUGI SINVOLI

text / ntext // Tezi sa sushtite samoche s NEOGRANICHENA DULJINA


BINARY DATA:
binary(size) // TOVA E AKO ISKAME DA ZAPAZVAME SNIMKI ILI DRUGO SAMOCHE E SUS FIXIRANA DULJINA

varbinary(size) // TOVA E SUSHTOTO KATO binary SAMOCHE SE POLZVA ZA NESHTO KOETO NE ZNAME KOLKO SHTE E GOLQMO PREDVARITELNO KATO PRIMERNO SNIMKA.

Data and Time:
date  // MOJE DA SE POLZVA I VUV RANGE
datetime // Sushtoto samoche i sus chas
smalldatetime // Tova se polzva poveche za preciznost t.e. ako ni trqbva neshto do dadena minuta

IMA I DRUI VIDOV DANNI:
Vij v google!!!



MODELIRANE NA BAZADANNI:
Za definiciq se polzva OBJECT EXPLORER V Managment Studio-to, toi ni pozvolqva da suzdavame vsichko koeto bazata poddurja, bazi, tablici, vruzki, zapiski, i dr.  MOJE DA SE PRAVAT VSICHKI TZI NESHTA I SUS SQL ZAQVKI

VECHE GI VIDQHME TEZI NESHTA !!!

MOJEM DA OTVORIM NA DADENA TABLICA PROPERTIES SUS:
DQSNOTO KOPCHE, PROPERTIES
KAKTO I NA DADENA KOLONKA V TABLICATA

V BAZITE INDEXSITE POCHVAT OT 1 A NE OT 0, MOJEM DA SETVAME IDENTITIES NA DADENA KOLONKA, Identity Increment i Identity Seed OT PROPERTIES NA DADENA TABLICA I OT IDENTITY SPECIFICATION KATO GO SETNEM NA YES, TAKA AVTOMATICHNO SHTE NI GENERIRA ID-ta PO NACHINA PO KOITO NIE SME MU KAZALI V IDENTITY-to !


AKO BORAVIM S PARI NE SE POLZVA FLOAT, POLZVA SE NUMERIC(10,2), I V SKOBITE SI OPREDELQME RAZMERA V NASHIQ SLUCHAI ISKAME ZAPLATATA NA TOZI CHOVEK DA E 10 CIFRENO CHISLO OT KOETO 2 CHISLA SA SLED DESETICHNATA ZAPETAQ, ZNACHI 8 CIFRENO CHISLO !!!!!

V UPRAJNENIETO SI SLAGAME KOLONA 'Bonus' V TABLICA MANAGERS, KAZALI SME CHE NE MOJE I DA E SUS STOINOST NULL, I OT PROPERTIES I DAVAME DEFAULT VALUE DA E NA 0 INACHE SHTE NI DADE GRESHKA SLED KATO SME UTOCHNILI CHE NE MOJE DA E NULL !
OT Default Value or Binding STAVA TOVA !!!


VAJNO E DA SI PUSNEM INTELLICENCA ZA DA NI PODSKAZVA


ZAQVKI:  
Komunikirame s bazata chrez ezik koito se naricha SQL, dava ni poveche kontrol i flexibility

CREATE DADABASE DatabaseName  // TAKA SE SUZDAVA NOVA BAZA
CUKUME NA New Query NAMIRA SE POD TOOLS i SUZDAVAME BAZA


ZA IZPULNQVANE NA ZQVKATA ILI NATISKAME F5 ILI DAVAME Execute BUTONA

DOBAVQME SI I TABLICA:
CREATE TABLE People
(
  Id int NOT NULL,
  Email varchar(50) NOT NULL,
  FirstName varchar(50),
  LastName varchar(50)
)

VAJNO !!! TRQBVA OBACHE DA SELEKTIRAME V KOQ BAZA RABOTIM:
TOVA STAVA CHREZ PADASHTOTO MENIU DO BUTONA Execute.
Ako iskame da go naravim sus zaqvka pishem : 
USE ImeNaBaza   // I EXCECUTVAME !!!!



Selectira se informaciq sus SELECT vrche go videhme tova.


S kluchovata duma TOP(5) ogranichavame broikata na seliktrani obekti, v sluchaq sme go setnal na 5, Ako ima po malko broiki nqma da hvurli greshka


VAJNO !!! AKO IMAME DVE ZAQVKI V QUERY PROZORCHETO I ISKAME SAMO EDNATA DA SE IZPULNI ILI TRIEM DRUGATA ILI PROSTO SELEKTIRAME TAZI KOQTO NI TRQVA I NATISKAME F5 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


Setvane na primary key s SQL zaqvka:
Id int NOT NULL PRIMARY KEY

Setvane na Identity s SQL zaqvka:
Id int IDENTITY PRIMARY KEY

MOJEM DA SI IZREJDAME KAKVITO SI ISKAME NASTROIKI SLED TIPA DANNI BEZ ZNACHENIE OT REDA !!!!!!!!!!!!!!


UNIQUE oznachava che nqma da imame povtarqshti se stoinosti v dadenata kolkona
Promer: Email varchar(255) UNIQUE 
NIE NE ISKAME V SLUCHAQ DA NE MOJE DVA POTREBITELA DA IMAT EDIN I SUSHTI MAIL.


Setvane na defaultna stoinost:
Primer: Balans decimal(10,2) DEFAULT 0  // T.E. AKO NE DADEN STOINOST SHTE E NULL I MOJE DA DADE GRESHKA ZATOVA GO SETVAME DA E NA NULA.



--KOMENTARITE V SQL SE PISHAT S DVE TIRENCA PREDI TOVA
ILI /**/

ZA DA NAPRAVIM PARCHE KOD NA KOMENTAR: SELEKTIRAME GO I NATISKAME CTRL + k + c
I ZA DA RAZKOMENTIRAME CTRL + k + u !!!!!!!!!!!!!! 



Promenqne na tablici chrez zaqvki: Stava chrez ALTER
ALTER TABLE TableName

SLED KOETO MOJEM DA SI DOBAVQME I NASTROIKI KAKTO PRI SUZDAVANETO:
ALTER TABLE Employees
ADD Salary money    // Salary e imeto na kolonata a money e tiput



ZA TRIENE NA KONONKI V TABLICA SE POLZVA DROP:

ALTER TABLE TableName
DROP COLUMN ColumnName


MOJEM DA PROMENIM DADENA KOLONKA V TABLICA: 
ALTER TABLE People
ALTER COLUMN Email varchar(255)
MOJE DA PROMENQME NO BEZ DA NARUSHAVAME PRAVILATA !!!!!!!!!


Setvane na defaultna stoinost:
ALTER TABLE People
ALTER COLUMN Balance
SET DEFAULT 0
// SETVAME BAZANSA DA E NA 0 KATO DEFAULTNA STOINOST 



DOBAVQNE NA OGRANICHENIQ T.E. PRAVILA: NARICHAT SE CONSTRAINTS, POLZVA SE DUMATA CONSTRAINT:

ALTER TABLE People
ADD CONSTRAINT PK_Id // IMETO MOJE DA E KAKVOTO SI POISKAME !!!
PRIMARY KEY(Id)
// sega kazahme che primary key shte bude Id I NA CQLOTO NESHTO KOETO SE NARICHA CONSTRAINT NU DAVAME IME PK_Id, Vse edno dobavqme kolonki


//Oshte edin primer :
ALTER TABLE People
ADD CONSTRAINT UQ_Id
UNIQUE (Id)



// PRI TRIENETO NA KOLONKI V TABLICA TRQBVA DA GLEDAME DA NQMA SVURZANI KLUCHOVE INACHE NI DAVA GRESHKA, MOJEM DA MAHNEM KLUCHOVETE KATO OTIDEM V PAPKATA Keys V DADENATA BAZA OT DANNI.


// AKO IMAME STRING SAMO S NOMERA V NEGO I OPITAME DA SMENIM TIPA DANNI OT varchar NA int SHTE NI GO KASTNE AVTOMATICHNO !!!


VAJNO!!! IMA EDNO BUTONCHE 'Display Estimated Excecution plan' KOETO SE NAMIRA DO V DQSNO OT BUTONA Execute. NO TO E SAMO ZA ZAQVKI I SE POQVQVA KOGATO SME NA PROZORECA ZA ZAQVKI !!!
TOVA BUTONCHE NI POKZAVA KAKVO SHTE NAPRAVI CQLATA ZAQVKA SLED KATO Q EXCUTNEM.
TO NE IZPULNQVA ZAQVKATA A SAMO Q ANALIZIRA !!! 
NO NE NI POKAZVA NAI DOBRIQ EXCECUTION PLAN ZASHTOTO TOVA SHTE OTNEME MNOG VREME. MISLI ZA 2 SEKUNDI I NI VRUSHTA IZMISLENIQT PLAN.




VAJNO !!! : 'CONSTRAINT' SE IZPOLZVA KOGATO DADENO PRAVILO NE SUSHTESTVUVA V KOLONATA ILI V TABLICATA INACHE SE IZPOLZVA 'ALTER COLUMN' 

DOBVQNE NA DEFAULT ZA DADENA KOLONKA:
ALTER TABLE CARS
ADD CONSTRAINT DF_Model
DEFAULT('Opel') FOR Model  
// TRQBVA NAKRAQ DA OPISHEM ZA KOQ KOLONKA GO PRAVIM TOVA


//SEGA AKO ISKAME DA GO PROMENIM VCHE NE POLZVAME 'ADD CONSTRAINT' ZASHTOTO VECHE GO DOBAVIHME I SUSHTESTVUVA, SEGA TRQBVA DA POLZVAME :

ALTER TABLE Cars
ALTER Model
SET DEFAULT 'Reno';



// TRIQNE V SQL, POLZVA SE 'DROP' :
Mojem da triem bazi, tablici, kluchove, konstranti
TRIENETO NA DANNI V TABLICA SE NATICHA 'Truncating' I SE PRAVI S 'TRUNCATE'
VAJNO E DA SE VNIMAVA ZASHTOTO EDIN PT KATO GI PRILOJIM 'TRUNCATE' ILI 'DROP'
NE MOJEM DA SE VURNEM OBRATNO.

DROP TABLE TableName;
// VAJNO !!! ZA DA IZTRIEM DADENA BAZADANNI TRQBVA OT SEARCHBARA DO Execute BUTONA DA SELEKTIRAME NQKOQ DRUGA ZASHTOTO NE MOJEM DA TRIEM BAZA KOQTO V MOMENTA POLZVAME !!!

TRUNCATE TABLE TableName; // samo trie sudurjanieto, ne cqlata tablica

DROP DATABASE DatabaseName;

ALTER TABLE TableName
DROP CONSTRANT ConstrantName; // Taka se dropva konstaint

ALTER TABLE TableName 
ALTER COLUMN ColumnNAme
DROP DEFAULT;		// Taka se dropva DAFAULT stoinost





MNOGO VAJNO!!! OT Object Eplorera Mojme da DRAGVAME I DROPVAME NESHTA  KUM QUERITATA !!!



BAZATA SE GRADI NAKRAQ, PURVO SE GOVORI S KLIENTA, SHE NI E DAL SPECIFIKACIQ I SHTE IMA IZISKVANIQ, KOGATO VECHE SME SIGURNI V TOVA KOETO ISKA KLIENTA TO TOGAVA ZAPOCHVAME DA GRADI SAMATA BAZA!



// SUBQUERY : 
PRIMERNO: Selektirame vsichki rabotnici ot dadena tablica chiito adress se namira v (PRAVIM SI NOVA ZAQVKA Selektirashta vsichki gradove koito imeto im e PROMERNO Boston) TOVA SHTE NI VURNE ID-to NA Grada.

SHTE IMA SPECIALNA LEKCIQ ZA SUBQUERITA !













