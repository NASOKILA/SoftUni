

!!!!!. Sloji si papkite v C: za da nqmat dulug path inache shte ni dava greshki

!!!!!. Smeni im imenata takache da nqma " " v tqh inache moje da dava greshki



1. Puskame si MongoDB SERVERA kato runnem faila mongod.exe KOITO E V 
C:\Program Files\MongoDB\Server\3.4\bin    CHAKAME GO DA ZAREDI DOKATO NE IZPISHE 
N POSLEDNIQ RED waiting on connections on port 27017

MNOGO VAJNO !!!!!: NE SELEKTIRAI NISHTO V KONZOLNOTO PROZORCHE INACHE SHTE SPRE VRUZKATA S BAZATA, NAI DOBRE E DA NATISNEM ESC BEZ DA ZATVARQME PROZORCHETO

2. Otvarqme si Robomongo i se vruzvame kum 27017

3. Otvarqme si konzola tam kudeto ni e JS proekta, MOJE DA E GITBASH 

4. Pishem npm install za da ni instalira vsichki dependencita koito sa ni nujni

5. Otvarqme webStorm i otvarqme si JS skeleta I AKO IMAME PAPKA node_modules ZNCHI VSICHKO E OK

6. NATISKAME SHIFT dva puti, PISHEM todo I VIJDAME KADE TRQBVA DA RABOTIM !!!

7.Predi da zapochnem rabota si downloadvame edna biblioteka: Otivame na settings/languages and frameworks/ JavaScript/Librarise/Download/  PISHEM mongoose I INSTALIRAME PURVOTO
Shte izpishe 'mongoose-DefinitellyTyped' TAZI BIBLIOTEKA E ZA AUTOCOMPETE, ZA DA NI E PO LESNO.

7.1 Checkvame go, SUSHTO TAKA checkvame i Javascript Scheleton/node_modules ZA DA IMAME AUTOCOMPLETE ZA VSICHKITE MODULI.

8. Trqbva da si vkluchim node.js and NPM: Otivame na settings/languages and frameworks/ JavaScript/ Node.js and NPM i KLIKVAME NA 'Enabled'. TOVA VKLUCHVA  Node.js Core Library KOETO NI POZVOLQVA DA PRAVIM VSICHKO SUS Node.js KATO DA SI UPDATVAME PAKETITE.

9. Zapochvame rabota puevo v modela:
//1. requirvame si mongooose
const mongoose = require('mongoose');


//2. pravim si shemata na modela:
let taskSchema = mongoose.Schema({

    // slagame si propertitata
    title:{type: 'string', required:'true'},
    comments:{type: 'string', required: 'true'},
});

//3. trqbva da previrnem shemata v model: DAVAME MU NQKAKVO IME I NU PODAVAME NASHATA SHEMA
let Task = mongoose.model('Task', taskSchema);

//4. exportvame modela ZA DA MOJEM DA GO POLZVAME IZVUN TOZI FAIL
mongoose.exports = Task;

// MODELA E GOTOV




10. Zapochvame rabota v kontrollera, imame poveche todo-ta zashtoto imame get i set metodi

10.1 PUSKAME SI PROETA SUS PLAY BUTONCHE I AKO IZPISHE MongoDB readi! ZNACHI VSICHKO E OK

11. pravim si index metoda:
index: (req, res) => {

        //TODO: Implement me...

    	// Trqbva da vzemem vsichki taskove ot bazata i da gi podadem na inde viewto
		    	Task.find().then(tasks => {
            res.render('task/index', {'tasks': tasks});
		});

    },


12. PRAVIM SI CreateGet metoda:
createGet: (req, res) => {

        //TODO: Implement me...
		// Tuk prosto vrushtame create viewto
		return res.render('task/create');
	},


13.Pravim si createPost metoda:

createPost: (req, res) => {
        //TODO: Implement me...


		// KATO DEBUGVAME VIJDAME KAKVO POLUCHAVAME OT FORMATA I CHE MOJEM DA DA GO VZEMEM OT req.body
		// VZIMAME SI TASKA
		let task = req.body;

		if(task.title === "" || task.comments === "")
		{
			//Ako title ili comments sa prazni, vrushtame usera kum create stranivcata
			res.redirect('/create');
            return;
        }

		//Ako taska nqma prazni poleta
		// ZAPISVAME GO V BAZATA:

		Task.create(task).then(task => {
			res.redirect('/');
		})


	},




14. POGLEJDAME V ROBOMONGO DA VIDIM DALI IMAME SUZDADENA NOVA BAZA I DALI V NEQ IMA NOV TASK

15. Pravim is delete GET METODA:

	deleteGet: (req, res) => {

        //TODO: Implement me...

		//1. VZIMAME SI ID-to OT URL-a
        // KATO DEBUGVAME VIJDAME CHE ID-to SE SUDURJA V req.params
        let id = req.params.id;

		//2. Namirame taska s tova id
		Task.findById(id).then( task => {

			//Ako nqma takuv task se vrushtame kum index viewto
			if(!task)
			{
                res.redirect('/');
                return;
			}

			// ako ima takuv task go podavame na delete viewto
			res.render('task/delete',task);

		});


	},





16. PRAVIM SI Delete post metoda:
deletePost: (req, res) => {
        
    	//TODO: Implement me...

		// Vzimam si IDto
		let id = req.params.id;

		Task.findById(id).then(task => {

			// AKO NE SUSHTESTVUVA TAKUV TASK SE VRUSHTAME KUM INDEX VIEWTO
			if(!task)
			{
				res.redirect('/');
				return;
			}
			
            // AKO SUSHTESTVUVA TAKUV TASK GO TRIEM :
            Task.remove(task).then(task => {
				res.redirect('/');
			});
			
        });

	}





17. Proverqvame v RoboMongo dali taskovete izchezvat !!!


GOTOVO E !!!!!!!

//VAJNO !!! : AKO DADEN TOUT NQMA VIEW, NQMA DA NI STRANICATA I NQMA DADE GRESHKA A PROSTO SHTE VURTI ZAVINAGI BEZ DA MOJE DA ZAREDI ZASHTOTOTRQBVA DA MU SE PODADE VIEW.

//VAJNO !!! : VLIZAI SI VUV VIEWTATA ZA DA VIDISH KAKVO OCHAKVAT ZA DA ZNAESH KAKVO DA IM PODADESH ILI V Routes.js FAILA !!!!!!!!!













































